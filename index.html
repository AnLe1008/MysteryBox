<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªôp B√≠ ·∫®n V·ªÅ VƒÉn H√≥a Truy·ªÅn Th·ªëng Vi·ªát Nam</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- (Previous CSS styles remain the same) --- */

        /* CSS chung */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: #d32f2f;
            color: white;
            padding: 20px 0;
            position: fixed;
            height: 100%;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            text-align: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-menu {
            list-style: none;
            padding: 20px 0;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            transition: all 0.3s;
        }

        .sidebar-menu a:hover {
            background-color: rgba(255,255,255,0.1);
        }

        .sidebar-menu a.active {
            background-color: rgba(255,255,255,0.2);
            border-left: 4px solid white;
            padding-left: 16px;
        }

        .payment-icon-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .payment-icon-container .fa-credit-card {
            margin-right: 10px;
        }

        /* Main content */
        .main-content {
            margin-left: 250px;
            flex: 1;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #d32f2f;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            color: #666;
        }

        /* Product section */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
        }

        .mystery-box {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            width: 350px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .mystery-box:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .box-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-bottom: 1px solid #eee;
        }

        .box-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .box-content > *:last-child {
             margin-top: auto;
        }

        .box-title {
            font-size: 24px;
            margin: 0 0 10px;
            color: #d32f2f;
        }

        .box-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .combo-options {
            margin: 15px 0;
        }

        .combo-option {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 8px;
            border-radius: 5px;
            background-color: #f9f9f9;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95em;
        }

        .combo-option:hover {
            background-color: #f0f0f0;
        }

        .combo-option.selected {
            background-color: #d32f2f;
            color: white;
            font-weight: bold;
        }
        .combo-option.selected span:last-child {
             font-weight: bold;
        }


        .box-price {
            font-size: 22px;
            font-weight: bold;
            color: #d32f2f;
            margin: 15px 0;
            text-align: center;
        }

        .cta-button {
            display: block;
            background: linear-gradient(45deg, #d32f2f, #f44336);
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            width: 100%;
            text-align: center;
            margin-top: 15px;
        }

        .cta-button:hover {
            background: linear-gradient(45deg, #b71c1c, #d32f2f);
            transform: scale(1.02);
        }


        /* Quick Payment Modal */
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            width: 450px;
            max-width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal h2 {
             text-align: center;
             margin-bottom: 20px;
             color: #d32f2f;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        .submit-btn, .close-btn {
            background: #d32f2f;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-top: 10px;
        }
         .close-btn {
            background: #aaa;
            margin-top: 15px;
        }
        .close-btn:hover {
            background: #888;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 999;
        }

        /* Quick Payment Specific Styles */
        #quickPaymentModal .modal-content{
             /* Add styles if needed for content area */
        }
        
        .quick-payment-items {
            margin-bottom: 20px;
            padding: 15px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .quick-payment-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .quick-payment-total {
            text-align: right;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #ccc;
        }

        /* Payment Methods */
        .payment-methods {
            margin: 20px 0;
        }

        .payment-method {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .payment-method input[type="radio"] {
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid #d32f2f;
            border-radius: 50%;
            margin-right: 10px;
            cursor: pointer;
            position: relative;
            top: 3px;
        }
        .payment-method input[type="radio"]:checked {
             background-color: #d32f2f;
             border-color: #d32f2f;
        }
        .payment-method input[type="radio"]:checked::after {
             content: '';
             display: block;
             width: 8px;
             height: 8px;
             background-color: white;
             border-radius: 50%;
             position: absolute;
             top: 50%;
             left: 50%;
             transform: translate(-50%, -50%);
         }

        .payment-qr {
            text-align: center;
            margin-top: 15px;
            display: none;
            border: 1px dashed #ccc;
            padding: 15px;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .payment-qr img {
             max-width: 150px;
             height: auto;
             margin: 10px auto;
             border: 1px solid #eee;
         }
        .payment-qr p {
            font-size: 0.95em;
            color: #555;
            line-height: 1.5;
        }
        .payment-amount { font-weight: bold; }
        .payment-order-code { color: #d32f2f; font-family: monospace; }

        /* Thank You Modal */
        .thank-you {
            text-align: center;
            padding: 20px;
        }
        .thank-you h2 { color: #d32f2f;}
        .thank-you img {
            max-width: 150px;
            margin: 15px auto;
        }


        /* Info page */
        .info-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

         .info-grid {
             display: grid;
             grid-template-columns: 1fr;
             gap: 40px;
         }

        .info-item {
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 30px;
        }
        .info-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }


        .info-item h3 {
            color: #d32f2f;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #d32f2f;
            display: inline-block;
        }

        .info-details {
             display: flex;
             flex-direction: column;
             gap: 20px;
         }

         .info-text {
            flex: 1;
            line-height: 1.7;
         }
        .info-text ul {
            list-style: disc;
            margin-left: 25px;
            margin-top: 10px;
            color: #555;
         }
         .info-text li { margin-bottom: 5px; }


        .info-visuals {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            padding: 15px; /* Add some padding */
            border-radius: 8px;
            background-color: #f9f9f9;
            border: 1px solid #eee; /* Add light border */
            max-width: 220px; /* Constrain width */
            margin: 0 auto; /* Center it when stacked vertically */
        }
        .info-illustration {
             max-width: 150px;
             height: auto;
             border-radius: 5px;
             border: 1px solid #ddd;
             box-shadow: 0 2px 4px rgba(0,0,0,0.1);
         }

        .qr-code { /* Modified for info page */
            width: 90px;
            height: 90px;
            margin: 0;
            display: block;
            border: 2px solid #d32f2f;
            border-radius: 5px;
            padding: 4px;
            background-color: white;
            transition: transform 0.3s ease;
        }
         .qr-code:hover {
             transform: scale(1.08);
         }

        /* Responsive */
        @media (min-width: 769px) {
            .info-details {
                flex-direction: row;
                align-items: flex-start;
            }
            .info-visuals {
                flex-basis: 220px; /* Give visuals a fixed base width */
                flex-shrink: 0;
                margin: 0 0 0 20px; /* Margin left when side-by-side */
                align-self: flex-start; /* Align top */
             }
             .info-item h3 {
                  margin-bottom: 20px;
              }
         }

        @media (max-width: 992px) {
             .mystery-box {
                 width: calc(50% - 15px); /* Two boxes per row */
                 min-height: 500px; /* Try to maintain height */
             }
             .combo-box .box-description {
                 font-size: 0.95em; /* Slightly smaller text in combo descriptions */
             }
              .combo-option span {
                 font-size: 0.9em; /* Slightly smaller text */
             }
         }

        @media (max-width: 768px) {
            body {
                 flex-direction: column;
             }
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                z-index: 1;
            }

            .main-content {
                margin-left: 0;
                padding: 15px;
            }
             .modal {
                 width: 90%;
             }
            .mystery-box {
                 width: calc(50% - 10px); /* Adjust gap */
                 gap: 20px;
                  min-height: auto; /* Let height be auto */
             }
             .box-image { height: 200px;}
         }
          @media (max-width: 576px) {
               .mystery-box {
                  width: 100%; /* One box per row */
               }
                .header h1 { font-size: 1.8em; }
                .header p { font-size: 1em; }
                .box-title { font-size: 20px; }
                .main-content { padding: 10px; }
           }

    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>H·ªôp B√≠ ·∫®n</h2>
            <p>VƒÉn H√≥a Vi·ªát Nam</p>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#" class="active" onclick="showSection('home'); return false;"><i class="fas fa-home fa-fw"></i> Trang ch·ªß</a></li>
            <li><a href="#" onclick="showSection('products'); return false;"><i class="fas fa-box-open fa-fw"></i> S·∫£n ph·∫©m</a></li>
            <li><a href="#" onclick="showSection('info'); return false;"><i class="fas fa-info-circle fa-fw"></i> Th√¥ng tin</a></li>
            <li>
                <a href="#" onclick="showPayment(); return false;" class="payment-icon-container">
                    <span><i class="fas fa-credit-card fa-fw"></i> Thanh to√°n</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Home Section -->
        <div id="home-section">
            <div class="header">
                <h1>H·ªôp B√≠ ·∫®n V·ªÅ VƒÉn H√≥a Truy·ªÅn Th·ªëng Vi·ªát Nam</h1>
                <p>Kh√°m ph√° vƒÉn h√≥a ƒë·∫∑c s·∫Øc c·ªßa Vi·ªát Nam qua t·ª´ng s·∫£n ph·∫©m</p>
            </div>

            <div class="container">
                <!-- H·ªôp C∆° B·∫£n -->
                <div class="mystery-box" id="basic-box">
                    <img src="https://i.imgur.com/3L8NKeC.jpeg" alt="H·ªôp B√≠ ·∫®n C∆° B·∫£n" class="box-image">
                    <div class="box-content">
                        <h2 class="box-title">H·ªôp C∆° B·∫£n</h2>
                        <p class="box-description">
                            Nh·ªØng m√≥n qu√† b·∫•t ng·ªù, ƒë·∫≠m ch·∫•t vƒÉn h√≥a Vi·ªát, mang l·∫°i tr·∫£i nghi·ªám m·ªü h·ªôp ƒë·∫ßy th√∫ v·ªã!üéÅ‚ú®
                        </p>
                        <div class="box-price">99.000‚Ç´</div>
                        <button class="cta-button" onclick="showQuickPayment('basic-1', 'H·ªôp C∆° B·∫£n', 99000, 1)">Mua ngay</button>
                    </div>
                </div>

                <!-- H·ªôp Cao C·∫•p -->
                <div class="mystery-box" id="premium-box">
                    <img src="https://i.imgur.com/5jsR9jU.jpeg" alt="H·ªôp B√≠ ·∫®n Cao C·∫•p" class="box-image">
                    <div class="box-content">
                        <h2 class="box-title">H·ªôp Cao C·∫•p</h2>
                        <p class="box-description">
                            Tinh hoa vƒÉn h√≥a h·ªôi t·ª• trong t·ª´ng m√≥n qu√†, sang tr·ªçng v√† ƒë·ªôc ƒë√°o, d√†nh cho nh·ªØng ai y√™u th√≠ch s·ª± b·∫•t ng·ªù ƒë·∫≥ng c·∫•p!üéÅüî•
                        </p>
                        <div class="box-price">199.000‚Ç´</div>
                         <button class="cta-button" onclick="showQuickPayment('premium-1', 'H·ªôp Cao C·∫•p', 199000, 1)">Mua ngay</button>
                    </div>
                </div>

                <!-- H·ªôp VIP -->
                <div class="mystery-box" id="vip-box">
                    <img src="https://i.imgur.com/BOiKqaq.jpeg" alt="H·ªôp B√≠ ·∫®n VIP" class="box-image">
                    <div class="box-content">
                        <h2 class="box-title">H·ªôp VIP</h2>
                        <p class="box-description">
                            Phi√™n b·∫£n gi·ªõi h·∫°n v·ªõi nh·ªØng m√≥n qu√† gi√° tr·ªã, t√¥n vinh n√©t ƒë·∫πp truy·ªÅn th·ªëng Vi·ªát Nam.
                            ƒê·∫≥ng c·∫•p - B·∫•t ng·ªù - X·ª©ng t·∫ßm!üéÅüëë
                        </p>
                        <div class="box-price">299.000‚Ç´</div>
                         <button class="cta-button" onclick="showQuickPayment('vip-1', 'H·ªôp VIP', 299000, 1)">Mua ngay</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Products Section (Combos) -->
        <div id="products-section" style="display: none;">
            <div class="header">
                <h1>Combo H·ªôp B√≠ ·∫®n</h1>
                <p>Ti·∫øt ki·ªám h∆°n khi mua combo nhi·ªÅu h·ªôp</p>
            </div>

            <div class="container">
                <!-- Combo H·ªôp C∆° B·∫£n -->
                <div class="mystery-box combo-box">
                    <img src="https://i.imgur.com/3L8NKeC.jpeg" alt="Combo H·ªôp C∆° B·∫£n" class="box-image">
                    <div class="box-content">
                        <h2 class="box-title">Combo H·ªôp C∆° B·∫£n</h2>
                        <p class="box-description">
                            Ti·∫øt ki·ªám chi ph√≠ khi mua s·ªë l∆∞·ª£ng l·ªõn h·ªôp c∆° b·∫£n. Ch·ªçn s·ªë l∆∞·ª£ng mong mu·ªën:
                        </p>

                        <div class="combo-options" data-product-type="H·ªôp C∆° B·∫£n" data-base-price="99000">
                             <div class="combo-option selected" data-quantity="1" data-price="99000">
                                <span>1 H·ªôp</span>
                                <span>99.000‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="3" data-price="267300">
                                <span>3 H·ªôp (Gi·∫£m 10%)</span>
                                <span>267.300‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="6" data-price="475200">
                                <span>6 H·ªôp (Gi·∫£m 20%)</span>
                                <span>475.200‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="12" data-price="831600">
                                <span>12 H·ªôp (Gi·∫£m 30%)</span>
                                <span>831.600‚Ç´</span>
                            </div>
                        </div>

                        <div class="box-price" id="basic-combo-price">99.000‚Ç´</div>
                        <button class="cta-button" onclick="addSelectedComboToCart(this)">Mua ngay</button>
                    </div>
                </div>

                <!-- Combo H·ªôp Cao C·∫•p -->
                <div class="mystery-box combo-box">
                    <img src="https://i.imgur.com/5jsR9jU.jpeg" alt="Combo H·ªôp Cao C·∫•p" class="box-image">
                    <div class="box-content">
                        <h2 class="box-title">Combo H·ªôp Cao C·∫•p</h2>
                        <p class="box-description">
                            Ti·∫øt ki·ªám chi ph√≠ khi mua s·ªë l∆∞·ª£ng l·ªõn h·ªôp cao c·∫•p. Ch·ªçn s·ªë l∆∞·ª£ng mong mu·ªën:
                        </p>

                        <div class="combo-options" data-product-type="H·ªôp Cao C·∫•p" data-base-price="199000">
                            <div class="combo-option selected" data-quantity="1" data-price="199000">
                                <span>1 H·ªôp</span>
                                <span>199.000‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="3" data-price="537300">
                                <span>3 H·ªôp (Gi·∫£m 10%)</span>
                                <span>537.300‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="6" data-price="955200">
                                <span>6 H·ªôp (Gi·∫£m 20%)</span>
                                <span>955.200‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="12" data-price="1671600">
                                <span>12 H·ªôp (Gi·∫£m 30%)</span>
                                <span>1.671.600‚Ç´</span>
                            </div>
                        </div>

                        <div class="box-price" id="premium-combo-price">199199.000‚Ç´</div>
                        <button class="cta-button" onclick="addSelectedComboToCart(this)">Mua ngay</button>
                    </div>
                </div>

                <!-- Combo H·ªôp VIP -->
                <div class="mystery-box combo-box">
                    <img src="https://i.imgur.com/BOiKqaq.jpeg" alt="Combo H·ªôp VIP" class="box-image">
                    <div class="box-content">
                        <h2 class="box-title">Combo H·ªôp VIP</h2>
                         <p class="box-description">
                             Ti·∫øt ki·ªám chi ph√≠ khi mua s·ªë l∆∞·ª£ng l·ªõn h·ªôp VIP. Ch·ªçn s·ªë l∆∞·ª£ng mong mu·ªën:
                         </p>

                        <div class="combo-options" data-product-type="H·ªôp VIP" data-base-price="299000">
                           <div class="combo-option selected" data-quantity="1" data-price="299000">
                                <span>1 H·ªôp</span>
                                <span>299.000‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="3" data-price="807300">
                                <span>3 H·ªôp (Gi·∫£m 10%)</span>
                                <span>807.300‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="6" data-price="1435200">
                                <span>6 H·ªôp (Gi·∫£m 20%)</span>
                                <span>1.435.200‚Ç´</span>
                            </div>
                            <div class="combo-option" data-quantity="12" data-price="2511600">
                                <span>12 H·ªôp (Gi·∫£m 30%)</span>
                                <span>2.511.600‚Ç´</span>
                            </div>
                        </div>

                        <div class="box-price" id="vip-combo-price">299.000‚Ç´</div>
                        <button class="cta-button" onclick="addSelectedComboToCart(this)">Mua ngay</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Info Section -->
        <div id="info-section" style="display: none;">
             <div class="header">
                <h1>Th√¥ng Tin S·∫£n Ph·∫©m</h1>
                <p>Chi ti·∫øt v·ªÅ c√°c m√≥n ƒë·ªì c√≥ th·ªÉ c√≥ trong h·ªôp b√≠ ·∫©n</p>
            </div>

            <div class="info-content">
                 <div class="info-grid">
                    <!-- H·ªôp C∆° B·∫£n Info -->
                    <div class="info-item">
                        <h3>H·ªôp C∆° B·∫£n</h3>
                        <div class="info-details">
                             <div class="info-text">
                                 <p><strong>Gi√°:</strong> 99.000‚Ç´</p>
                                 <p><strong>C√°c v·∫≠t ph·∫©m c√≥ th·ªÉ xu·∫•t hi·ªán:</strong></p>
                                 <ul>
                                     <li>M√≥c kh√≥a: tr·ªëng ƒë·ªìng, n√≥n l√° mini, qu·∫°t gi·∫•y, √°o d√†i... </li>
                                     <li>Huy hi·ªáu, charm, ph·ª• ki·ªán trang tr√≠ ƒëa d·∫°ng</li>
                                 </ul>
                             </div>
                             <div class="info-visuals">
                                  <img src="https://i.imgur.com/1LxKiyl.jpeg" alt="H·ªôp C∆° B·∫£n Minh H·ªça" class="info-illustration">
                                  <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://www.youtube.com/watch?v=SlMlex7xWac" class="qr-code" alt="QR H·ªôp C∆° B·∫£n">
                             </div>
                        </div>
                    </div>

                    <!-- H·ªôp Cao C·∫•p Info -->
                     <div class="info-item">
                         <h3>H·ªôp Cao C·∫•p</h3>
                         <div class="info-details">
                              <div class="info-text">
                                  <p><strong>Gi√°:</strong> 199.000‚Ç´</p>
                                  <p><strong>C√°c v·∫≠t ph·∫©m c√≥ th·ªÉ xu·∫•t hi·ªán:</strong></p>
                                  <ul>
                                      <li>M√¥ h√¨nh mini </li>
                                      <li>S·∫£n ph·∫©m th·ªß c√¥ng</li>
                                      <li>ƒê·ªì d√πng th·ªß c√¥ng</li>
                                  </ul>
                              </div>
                              <div class="info-visuals">
                                   <img src="https://i.imgur.com/PbSJfzS.jpeg" alt="H·ªôp Cao C·∫•p Minh H·ªça" class="info-illustration">
                                  <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://youtu.be/F_MAoIMSSv4?si=isTA21qUoze-G3jU" class="qr-code" alt="QR H·ªôp Cao C·∫•p">
                              </div>
                         </div>
                     </div>

                    <!-- H·ªôp VIP Info -->
                     <div class="info-item">
                         <h3>H·ªôp VIP</h3>
                         <div class="info-details">
                              <div class="info-text">
                                  <p><strong>Gi√°:</strong> 299.000‚Ç´</p>
                                  <p><strong>C√°c v·∫≠t ph·∫©m c√≥ th·ªÉ xu·∫•t hi·ªán:</strong></p>
                                  <ul>
                                      <li>M√¥ h√¨nh Di s·∫£n vƒÉn h√≥a cao c·∫•p, tinh x·∫£o</li>
                                      <li>M√¥ h√¨nh ƒëa ch·ª©c nƒÉng (xoay ƒë∆∞·ª£c, ph√°t nh·∫°c, c√≥ ƒë√®n s√°ng)</li>
                                  </ul>
                              </div>
                              <div class="info-visuals">
                                  <img src="https://i.imgur.com/UCUu52E.jpeg" alt="H·ªôp VIP Minh H·ªça" class="info-illustration">
                                  <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://www.youtube.com/watch?v=WTklbXoaP2U" class="qr-code" alt="QR H·ªôp VIP">
                              </div>
                         </div>
                     </div>
                 </div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay" onclick="closeAllModals()"></div>

    <!-- Quick Payment Modal -->
    <div class="modal" id="quickPaymentModal">
        <h2><i class="fas fa-credit-card"></i> Thanh To√°n Nhanh</h2>
        <div class="modal-content">
            <div class="quick-payment-items" id="quickPaymentItems">
                <!-- Product info will be loaded here -->
            </div>
            
            <form id="quickPaymentForm" onsubmit="submitQuickPayment(event)">
                <div class="form-group">
                    <label for="quickName">H·ªç v√† t√™n <span style="color: red;">*</span></label>
                    <input type="text" id="quickName" required>
                </div>

                <div class="form-group">
                    <label for="quickPhone">S·ªë ƒëi·ªán tho·∫°i <span style="color: red;">*</span></label>
                    <input type="tel" id="quickPhone" required pattern="[0-9]{10,11}" title="S·ªë ƒëi·ªán tho·∫°i g·ªìm 10-11 ch·ªØ s·ªë">
                </div>

                <div class="form-group">
                    <label for="quickAddress">ƒê·ªãa ch·ªâ nh·∫≠n h√†ng <span style="color: red;">*</span></label>
                    <input type="text" id="quickAddress" required>
                </div>

                <div class="form-group">
                    <label for="quickEmail">Email (ƒê·ªÉ nh·∫≠n x√°c nh·∫≠n)</label>
                    <input type="email" id="quickEmail">
                </div>

                <div class="payment-methods">
                    <h3>Ph∆∞∆°ng th·ª©c thanh to√°n <span style="color: red;">*</span></h3>
                    <div class="payment-method">
                        <input type="radio" id="quickMomo" name="quickPayment" value="momo" checked onchange="toggleQuickPaymentQR()">
                        <label for="quickMomo">V√≠ ƒëi·ªán t·ª≠ MoMo</label>
                    </div>
                    <div class="payment-method">
                        <input type="radio" id="quickVnpay" name="quickPayment" value="vnpay" onchange="toggleQuickPaymentQR()">
                        <label for="quickVnpay">VNPAY QR</label>
                    </div>
                    <div class="payment-method">
                        <input type="radio" id="quickCod" name="quickPayment" value="cod" onchange="toggleQuickPaymentQR()">
                        <label for="quickCod">Thanh to√°n khi nh·∫≠n h√†ng (COD)</label>
                    </div>
                </div>

                <div class="payment-qr" id="quickMomoQr">
                    <p>Qu√©t m√£ MoMo ƒë·ªÉ thanh to√°n <strong class="payment-amount"></strong></p>
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=Placeholder" alt="MoMo QR">
                    <p>Ho·∫∑c chuy·ªÉn kho·∫£n ƒë·∫øn SƒêT: <strong style="color:#d32f2f">0961234567</strong><br>
                    N·ªôi dung: <span class="payment-order-code">[M√£ ƒë∆°n h√†ng]</span> H·ªç t√™n</p>
                </div>

                <div class="payment-qr" id="quickVnpayQr">
                    <p>Qu√©t m√£ VNPAY ƒë·ªÉ thanh to√°n <strong class="payment-amount"></strong></p>
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=Placeholder" alt="VNPAY QR">
                    <p>H·ªó tr·ª£ thanh to√°n qua ·ª©ng d·ª•ng ng√¢n h√†ng / v√≠ ƒëi·ªán t·ª≠.<br>
                    N·ªôi dung: <span class="payment-order-code">[M√£ ƒë∆°n h√†ng]</span> SƒêT</p>
                </div>

                <div class="quick-payment-total" id="quickPaymentTotal">
                    T·ªïng c·ªông: 0‚Ç´
                </div>

                <button type="submit" class="submit-btn">X√°c nh·∫≠n ƒë·∫∑t h√†ng</button>
                <button type="button" class="close-btn" onclick="hideQuickPayment()">H·ªßy b·ªè</button>
            </form>
        </div>
    </div>

    <!-- Thank You Modal -->
    <div class="modal" id="thankYouModal" style="display: none;">
        <div class="thank-you">
            <h2>ƒê·∫∑t h√†ng th√†nh c√¥ng!</h2>
            <p><strong>N√†ng B·∫°ch Tuy·∫øt V√† 7 Ch√∫ L√πn</strong> xin ch√¢n th√†nh c·∫£m ∆°n b·∫°n ƒë√£ ·ªßng h·ªô s·∫£n ph·∫©m!</p>
            <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="Check Mark" style="max-width: 80px;">
            <p>M√£ ƒë∆°n h√†ng c·ªßa b·∫°n l√†: <strong id="orderNumber" style="color: #d32f2f; font-size: 1.2em;"></strong></p>
            <p style="margin-top:10px;">Ch√∫ng t√¥i s·∫Ω li√™n h·ªá x√°c nh·∫≠n v√† giao h√†ng trong th·ªùi gian s·ªõm nh·∫•t.</p>
            <button class="submit-btn" onclick="closeAllModals()">ƒê√≥ng</button>
        </div>
    </div>


    <script>
        let cart = []; // Initialize cart array

        // ---- Navigation ----
        function showSection(sectionId) {
            ['home-section', 'products-section', 'info-section'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.style.display = 'none';
            });

            const targetSection = document.getElementById(sectionId + '-section');
            if (targetSection) targetSection.style.display = 'block';

            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.classList.remove('active');
                const linkTarget = link.getAttribute('onclick');
                if(linkTarget && linkTarget.includes(`showSection('${sectionId}')`)){
                    link.classList.add('active');
                }
            });
        }

        // ---- Quick Payment ----
        function showQuickPayment(id, name, price, quantity = 1) {
            // Clear any existing items
            cart = [];
            
            // Add the selected item to cart
            addToCart(id, name, price, quantity, false);
            
            // Update the quick payment display
            updateQuickPaymentDisplay();
            
            // Generate dynamic temporary order code suggestion for payment content
            const tempOrderCode = 'DH' + Math.floor(Math.random() * 100000);
            document.querySelectorAll('.payment-order-code').forEach(el => el.textContent = tempOrderCode);
            
            // Update QR codes with the correct amount
            updateQuickPaymentQRCodes(price, tempOrderCode);
            toggleQuickPaymentQR();
            
            // Show the modal
            document.getElementById('quickPaymentModal').style.display = 'block';
            showOverlay();
        }
        
        function updateQuickPaymentDisplay() {
            const container = document.getElementById('quickPaymentItems');
            const totalEl = document.getElementById('quickPaymentTotal');
            
            container.innerHTML = '';
            
            if (cart.length === 0) {
                container.innerHTML = '<p>Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o</p>';
                totalEl.textContent = 'T·ªïng c·ªông: 0‚Ç´';
                return;
            }
            
            cart.forEach(item => {
                const itemEl = document.createElement('div');
                itemEl.classList.add('quick-payment-item');
                itemEl.innerHTML = `
                    <span>${item.name} (x${item.quantity})</span>
                    <span>${(item.price * item.quantity).toLocaleString('vi-VN')}‚Ç´</span>
                `;
                container.appendChild(itemEl);
            });
            
            const total = calculateCartTotal();
            totalEl.textContent = `T·ªïng c·ªông: ${total.toLocaleString('vi-VN')}‚Ç´`;
        }
        
        function updateQuickPaymentQRCodes(totalPrice, orderCode) {
            const momoQrImg = document.getElementById('quickMomoQr').querySelector('img');
            const vnpayQrImg = document.getElementById('quickVnpayQr').querySelector('img');
            const amountDisplay = document.querySelectorAll('#quickPaymentModal .payment-amount');
            const orderCodeDisplay = document.querySelectorAll('#quickPaymentModal .payment-order-code');

            // Basic MoMo QR String
            const momoData = `2|99|0961234567|7 Nan Bach Tuyet Store|HD${orderCode}|${totalPrice}|${orderCode}|TT ${orderCode}`;
            momoQrImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&color=B51F1E&bgcolor=ffffff&data=${encodeURIComponent(momoData)}`;

            // VNPAY QR String
            const vnpayData = `Pay via VNPAY\nOrder: ${orderCode}\nAmount: ${totalPrice.toLocaleString('vi-VN')} VND`;
            vnpayQrImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&color=005AAA&bgcolor=ffffff&data=${encodeURIComponent(vnpayData)}`;

            // Update display texts
            amountDisplay.forEach(el => el.textContent = `(${totalPrice.toLocaleString('vi-VN')}‚Ç´)`);
            orderCodeDisplay.forEach(el => el.textContent = orderCode);
        }
        
        function toggleQuickPaymentQR() {
            const selectedPayment = document.querySelector('input[name="quickPayment"]:checked').value;
            document.getElementById('quickMomoQr').style.display = selectedPayment === 'momo' ? 'block' : 'none';
            document.getElementById('quickVnpayQr').style.display = selectedPayment === 'vnpay' ? 'block' : 'none';
        }
        
        function hideQuickPayment() {
            document.getElementById('quickPaymentModal').style.display = 'none';
            hideOverlay();
        }
        
        function submitQuickPayment(event) {
            event.preventDefault();
            
            const totalPrice = calculateCartTotal();
            const fullName = document.getElementById('quickName').value.trim();
            const phone = document.getElementById('quickPhone').value.trim();
            const address = document.getElementById('quickAddress').value.trim();
            const email = document.getElementById('quickEmail').value.trim();
            const paymentMethod = document.querySelector('input[name="quickPayment"]:checked').value;

            if (!fullName || !phone || !address) {
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc (*)!');
                return;
            }
            
            if (totalPrice <= 0 || cart.length === 0) {
                alert('ƒê√£ c√≥ l·ªói x·∫£y ra ho·∫∑c kh√¥ng c√≥ s·∫£n ph·∫©m n√†o ƒë·ªÉ thanh to√°n.');
                closeAllModals();
                return;
            }

            const orderNumber = 'DH' + Math.floor(100000 + Math.random() * 900000);

            const orderData = {
                orderNumber,
                totalPrice: totalPrice,
                items: JSON.parse(JSON.stringify(cart)),
                itemCount: calculateTotalQuantity(),
                customerInfo: { fullName, phone, address, email },
                paymentMethod,
                orderDate: new Date().toISOString()
            };

            console.log('ƒê∆†N H√ÄNG ƒê√É ƒê·∫∂T (QUICK PAYMENT):', JSON.stringify(orderData, null, 2));
            alert(`(Simulation)\nƒê∆°n h√†ng ${orderNumber} ƒë√£ ƒë∆∞·ª£c t·∫°o.\nT·ªïng ti·ªÅn: ${totalPrice.toLocaleString('vi-VN')}‚Ç´\nPh∆∞∆°ng th·ª©c TT: ${paymentMethod.toUpperCase()}\n\nKi·ªÉm tra Console (F12) ƒë·ªÉ xem chi ti·∫øt ƒë∆°n h√†ng.`);

            // Clear cart and reset form
            cart = [];
            saveCart();
            document.getElementById('quickPaymentForm').reset();

            hideQuickPayment();
            showThankYou(orderNumber);
        }

        // ---- Cart Management ----
        function loadCart() {
            const storedCart = localStorage.getItem('mysteryBoxCart');
            if (storedCart) {
                cart = JSON.parse(storedCart);
            }
        }

        function saveCart() {
            localStorage.setItem('mysteryBoxCart', JSON.stringify(cart));
        }

         function addToCart(id, name, price, quantity = 1, showMessage = true) {
            let pricePerSingleItem = quantity > 0 ? price / quantity : price;
            if (id.endsWith('-1')) {
                pricePerSingleItem = price;
            }

            const existingItemIndex = cart.findIndex(item => item.id === id);

             if (existingItemIndex > -1) {
                 cart[existingItemIndex].quantity += quantity;
             } else {
                 cart.push({ id, name, price: pricePerSingleItem, quantity });
             }

             if (showMessage) {
                 showFeedback(`ƒê√£ th√™m: ${name} (x${quantity})`);
             }
             saveCart();
         }

        function removeFromCart(id) {
            const itemIndex = cart.findIndex(item => item.id === id);
             if(itemIndex > -1){
                 showFeedback(`ƒê√£ x√≥a: ${cart[itemIndex].name}`);
                 cart.splice(itemIndex, 1);
                 saveCart();
             }
        }

        function calculateCartTotal() {
            return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        }

        function calculateTotalQuantity() {
             return cart.reduce((count, item) => count + item.quantity, 0);
        }

        function showFeedback(message) {
            const feedbackEl = document.createElement('div');
            feedbackEl.textContent = message;
            feedbackEl.style.position = 'fixed';
            feedbackEl.style.bottom = '20px';
            feedbackEl.style.left = '50%';
            feedbackEl.style.transform = 'translateX(-50%)';
            feedbackEl.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
            feedbackEl.style.color = 'white';
            feedbackEl.style.padding = '12px 25px';
            feedbackEl.style.borderRadius = '30px';
            feedbackEl.style.zIndex = '2000';
            feedbackEl.style.opacity = '1';
            feedbackEl.style.transition = 'opacity 0.5s ease-out, bottom 0.5s ease-out';
            feedbackEl.style.fontSize = '0.95em';
            feedbackEl.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';

            document.body.appendChild(feedbackEl);

            setTimeout(() => {
                 feedbackEl.style.bottom = '30px';
             }, 10);

            setTimeout(() => {
                 feedbackEl.style.opacity = '0';
                 feedbackEl.style.bottom = '10px';
                 setTimeout(() => {
                    if (feedbackEl.parentNode) {
                         document.body.removeChild(feedbackEl);
                     }
                 }, 500);
             }, 2500);
        }

        // ---- Combo Selection ----
         function selectComboOption(element) {
             const parent = element.closest('.combo-options');
             parent.querySelectorAll('.combo-option').forEach(opt => opt.classList.remove('selected'));
             element.classList.add('selected');

             const price = element.dataset.price;
             const priceDisplay = parent.closest('.combo-box').querySelector('.box-price');
             priceDisplay.textContent = parseInt(price).toLocaleString('vi-VN') + '‚Ç´';
         }

        document.querySelectorAll('.combo-option').forEach(option => {
            option.addEventListener('click', () => selectComboOption(option));
        });

         function addSelectedComboToCart(button) {
             const boxContent = button.closest('.box-content');
             const comboOptionsContainer = boxContent.querySelector('.combo-options');
             const selectedOption = comboOptionsContainer.querySelector('.combo-option.selected');

             if (!selectedOption) {
                 alert("Vui l√≤ng ch·ªçn m·ªôt g√≥i combo!");
                 return;
             }

             const productType = comboOptionsContainer.dataset.productType;
             const quantity = parseInt(selectedOption.dataset.quantity);
             const price = parseInt(selectedOption.dataset.price);
             const comboId = `${productType.toLowerCase().replace(/\s+/g, '-')}-${quantity}`;
             const comboName = `${productType} (Combo ${quantity} H·ªôp)`;

             showQuickPayment(comboId, comboName, price, 1);
         }

        // ---- Modal Controls ----
        function showOverlay() {
             document.getElementById('overlay').style.display = 'block';
        }
        function hideOverlay() {
             const quickVisible = document.getElementById('quickPaymentModal').style.display === 'block';
            const thanksVisible = document.getElementById('thankYouModal').style.display === 'block';
            if (!quickVisible && !thanksVisible) {
                document.getElementById('overlay').style.display = 'none';
            }
        }
        function closeAllModals() {
            hideQuickPayment();
            hideThankYou();
            hideOverlay();
        }

        function showThankYou(orderNumber) {
            document.getElementById('orderNumber').textContent = orderNumber;
            document.getElementById('thankYouModal').style.display = 'block';
            showOverlay();
        }
         function hideThankYou() {
            document.getElementById('thankYouModal').style.display = 'none';
            hideOverlay();
         }

        // ---- Initialization ----
        document.addEventListener('DOMContentLoaded', function() {
            loadCart();
            showSection('home');
            document.querySelectorAll('.combo-options').forEach(container => {
                const firstOption = container.querySelector('.combo-option');
                if (firstOption) selectComboOption(firstOption);
             });
        });

        document.getElementById('overlay').addEventListener('click', closeAllModals);

    </script>

</body>
</html>
